CREATE VIEW fReceipt AS
SELECT 
    r.receipt_id AS r_receipt_id, 
    r.terminalid AS r_terminalid, 
    r.warehouseid AS r_warehouseid, 
    r.users_id AS r_users_id, 
    r.dates AS r_dates, 
    r.marker AS r_marker, 
    r.corp_code AS r_corp_code, 
    r.fr_session AS r_fr_session, 
    r.doc_type AS r_doc_type, 
    r.doc_num AS r_doc_num, 
    r.doc_num_session AS r_doc_num_session, 
    r.discount AS r_discount, 
    r.discount_misc AS r_discount_misc, 
    r.amount AS r_amount, 
    r.round_amount AS r_round_amount, 
    r.pay_cash AS r_pay_cash, 
    r.pay_card AS r_pay_card, 
    r.pay_tare AS r_pay_tare, 
    r.pay_credit AS r_pay_credit, 
    r.pay_bonus_id AS r_pay_bonus_id, 
    r.pay_bonus_amount AS r_pay_bonus_amount, 
    r.pinpad_name AS r_pinpad_name, 
    r.terminal_number AS r_terminal_number, 
    r.short_fiscal_serial_number AS r_short_fiscal_serial_number, 
    r.device_model_name AS r_device_model_name, 
    r.device_model_version AS r_device_model_version, 
    r.terminal_description AS r_terminal_description, 
    r.is_electronic AS r_is_electronic, 
    r.fiscal_attribute AS r_fiscal_attribute, 
    r.vat10_sum AS r_vat10_sum, 
    r.vat18_sum AS r_vat18_sum, 
    r.vat20_sum AS r_vat20_sum, 
    r.items_count AS r_items_count,
    rl.line_id AS rl_line_id, 
    rl.itemid AS rl_itemid, 
    rl.quantity AS rl_quantity, 
    rl.pricebase AS rl_pricebase, 
    rl.pricesale AS rl_pricesale, 
    rl.discount AS rl_discount, 
    rl.amount AS rl_amount, 
    rl.barcode AS rl_barcode, 
    rl.cogs AS rl_cogs, 
    rl.users_id AS rl_users_id, 
    rl.vat_applied AS rl_vat_applied, 
    rl.vat_amount AS rl_vat_amount, 
    rl.onhand_id AS rl_onhand_id
FROM  
    [dbo].[fReceipts] r
LEFT JOIN 
    [dbo].[fReceiptsLines] rl
ON 
    r.receipt_id = rl.receipt_id;